<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body,
        html {
            height: 100%;
            margin: 0;
        }

        .scrollable-container {
            width: 100%;
            height: 300px;
            overflow: hidden;
            position: relative;
        }

        .content {
            height: 1500px;
            /* 假设内容足够多，需要滚动 */
            padding: 20px;
        }

        .scrollbar {
            position: absolute;
            top: 0;
            right: 10px;
            width: 10px;
            height: 100%;
            background: #e8e8e8;
            border-radius: 5px;
        }

        .scrollbar-thumb {
            position: absolute;
            top: 0;
            right: 2.5px;
            width: 5px;
            background: #ff5f;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>

<body>
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <title>Custom Scrollbar</title>
        <link rel="stylesheet" href="styles.css">
    </head>

    <body>
        <div class="scrollable-container">
            <div class="content">
                <!-- 这里可以放置很多内容 -->
                <p>一些内容...</p>
                <p>一些内容...</p>
                Lorem ipsum dolor, sit amet consectetur adipisicing elit. Rerum aliquid, sapiente nemo repellendus
                eligendi tempora cupiditate velit! Perspiciatis cumque pariatur ipsum in exercitationem! Velit sequi eos
                eligendi mollitia sunt est neque minima sint nesciunt deserunt laboriosam, labore, dolor esse dolorum
                laudantium illo incidunt. Quaerat, animi odit ea temporibus et debitis non nulla consequuntur ab soluta
                maxime impedit eius recusandae aspernatur. Commodi quis vero asperiores cumque omnis ab labore
                repellendus, voluptatem porro eius doloremque pariatur assumenda reprehenderit. Voluptatem, totam?
                Natus, aliquid quod quam unde commodi dolor ad impedit perspiciatis ipsa nulla aut tempora. Magni quam
                voluptas unde libero. Quas quaerat possimus, facere obcaecati a recusandae nemo expedita nihil magni est
                eum minima vero excepturi harum tenetur corporis. Iusto vitae ipsam consectetur deserunt vel sequi
                impedit consequuntur provident voluptatum, facere quo sit dolor maxime, alias nam explicabo perspiciatis
                quas non? Ut maiores eum architecto quasi facere tempore non voluptatibus illo placeat? Quisquam, ut
                animi. Molestias maxime quae perspiciatis accusamus tempora, omnis error quibusdam earum numquam
                assumenda, dolorem ut quia necessitatibus ratione praesentium placeat autem. Cum, ipsa, non dolore quae
                aliquam eum exercitationem libero molestias ullam, nihil ad vero assumenda facilis incidunt eligendi
                accusamus! Vero distinctio nulla quas velit magni consequuntur, porro aut nobis dolorem pariatur fuga
                harum aperiam aspernatur incidunt dolorum atque qui odit cupiditate obcaecati quae natus vitae quia
                error ipsum. Distinctio ab quo fuga, eius error eligendi fugit expedita sed aut voluptates nisi deserunt
                pariatur, quos autem modi ex! Quasi voluptas consequuntur eaque ex totam porro. Aliquam tenetur culpa
                autem ullam iure consequuntur repudiandae delectus, vel mollitia saepe animi. Architecto doloribus
                repudiandae commodi soluta laboriosam, quam, non esse vero officiis nihil ex voluptate minus impedit
                dolorum doloremque at, perferendis maiores! Aspernatur molestias error veniam ut tempore natus minima
                laudantium deleniti, ipsa possimus quas a sed similique beatae doloremque! Ullam ipsa voluptates in
                optio accusamus, eum harum labore ducimus! Distinctio cupiditate aspernatur exercitationem asperiores
                accusamus totam ipsa in modi vel fuga quis corrupti reiciendis blanditiis consequuntur hic praesentium,
                ab quae deserunt aliquam odit tempora. Dignissimos minus quaerat consequuntur recusandae impedit
                laudantium repellendus corporis modi earum, ducimus quos minima eius sit omnis similique eaque nulla.
                Fuga aspernatur saepe quos quo debitis ipsa quidem asperiores ad placeat quae repudiandae maxime
                exercitationem aperiam doloribus, dolorem explicabo eaque vel laborum at autem voluptatum tempore
                blanditiis. Officia recusandae pariatur, nesciunt aperiam beatae corporis ea! Consequatur, ipsa
                inventore voluptatibus et amet numquam cupiditate rem ratione accusantium dicta odit natus aut nostrum
                tenetur est dolorum quos quisquam. Molestias distinctio magnam unde quae vel accusantium pariatur cum
                incidunt temporibus qui dolore, explicabo, repellendus provident! Dolor nam suscipit voluptates! Eveniet
                sed harum eum. Voluptates praesentium vero architecto ex amet id accusamus soluta? Ex nobis voluptatum
                unde aut consequatur iusto voluptatibus. Id nam neque est tenetur perferendis consequuntur nisi natus
                repudiandae quod odio ut quos dolor ratione quas, totam impedit sint fugiat similique numquam provident
                voluptas accusantium! Qui mollitia temporibus, nam sapiente repellat dolorum harum animi neque nisi
                voluptates provident debitis. Omnis dignissimos rerum quia aperiam consectetur accusantium nihil modi,
                deserunt cupiditate officiis atque possimus eveniet, inventore nesciunt molestias rem aliquid dolore
                dolores quo? Saepe possimus facilis cupiditate dicta voluptatum maxime ullam rem, voluptas doloremque
                totam laudantium fuga necessitatibus cumque, praesentium accusamus exercitationem dolorum quaerat. Alias
                obcaecati aperiam quod, voluptatem, at eveniet, dicta qui quasi nam est cupiditate. Odio ipsam
                aspernatur amet est deleniti at. Quisquam reprehenderit cumque voluptate consequuntur quidem voluptatem.
                Maiores adipisci hic error quas reprehenderit nulla illo. Ipsam quidem reiciendis laborum fugit debitis?
                Dignissimos enim eveniet, ratione quisquam laborum nulla reiciendis veritatis adipisci provident ipsa
                harum velit laboriosam cum accusantium necessitatibus sed? Dolores, cupiditate facere! Molestias
                expedita iusto magnam facilis, pariatur voluptates nisi inventore veritatis dolores fugiat non, minus
                asperiores, facere incidunt laboriosam ipsum suscipit aspernatur porro. Esse quibusdam, accusantium
                aliquid pariatur maiores architecto ab saepe. Natus rem quis saepe maxime dolore molestiae, voluptate
                illum nihil veritatis maiores voluptates odio commodi dolores quasi magni laborum perspiciatis
                necessitatibus est inventore officia. Odit cupiditate magni asperiores! Iste, nemo recusandae asperiores
                modi, quaerat totam odio consequuntur facilis maiores enim sequi officia vel minus tenetur rem! Placeat
                asperiores corporis earum dolorum eius dicta assumenda totam non. Omnis, voluptatum! Ipsum quidem
                perferendis adipisci impedit nulla quae, dolorum quas eveniet est nam ratione molestiae laboriosam sunt
                enim perspiciatis quo quia debitis vitae recusandae fugit illo quos voluptatem. Est voluptates sunt
                temporibus vero voluptatem suscipit quis dolores voluptas cupiditate, tempore repellat vitae harum vel
                deleniti rerum at possimus beatae, error blanditiis corrupti aperiam repellendus consectetur cumque?
                Aspernatur sint iure ad excepturi sapiente vitae ipsam autem ex animi, porro nobis modi, necessitatibus
                in cumque aperiam veniam debitis exercitationem eum amet placeat! Ut nihil reiciendis amet iusto dolor a
                quidem incidunt. Fuga, quas. Quidem exercitationem voluptatem dolore nostrum aliquid id, quisquam
                deserunt neque iure, quo facilis. Amet non perferendis magnam culpa sapiente vitae rerum quisquam
                incidunt enim iusto praesentium, eligendi similique dolore nesciunt ex nam qui in, facere quasi
                aspernatur quia. Perferendis, quasi enim. Ullam voluptatem commodi saepe at error corporis ducimus hic
                debitis ipsam facilis iure consequuntur quisquam fugit, ex aperiam quod doloremque vitae voluptate
                quibusdam reprehenderit nisi provident laborum. Amet inventore accusantium optio delectus repellendus
                cum nulla quidem minus laboriosam est eius, harum vitae quam reprehenderit. Consequatur minima
                accusantium vero similique modi qui voluptate velit! Quaerat eos vero similique mollitia quibusdam quasi
                animi unde! Veritatis nesciunt recusandae nam, autem, explicabo veniam dicta eum officiis voluptatibus
                error quos ex fugit deserunt hic. Fugit ea officia numquam corrupti fugiat, deserunt quisquam tempore
                quas voluptatum necessitatibus itaque quis eveniet. Iste laudantium ab sequi rerum expedita aspernatur
                voluptates cum, quaerat soluta autem quos iusto? At officia autem quasi modi qui maiores quae inventore
                ullam suscipit dignissimos. Facilis in at atque a quos excepturi molestias doloribus omnis
                necessitatibus exercitationem ipsa nisi sint impedit non, sapiente nam tenetur corrupti nesciunt quaerat
                modi provident debitis. Unde alias consequatur accusamus voluptatem vitae aliquam vel dignissimos error
                quaerat commodi nam blanditiis corporis veniam harum suscipit ipsum, quibusdam earum placeat amet autem
                ratione rem ea, animi id! Cum nesciunt minus cumque nisi dolorum voluptatibus quasi.
                <!-- ... 更多内容 -->
            </div>
            <div class="scrollbar">
                <div class="scrollbar-thumb"></div>
            </div>
        </div>
        <script src="script.js"></script>
    </body>

    </html>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var container = document.querySelector('.scrollable-container');
            var content = container.querySelector('.content');
            var scrollbar = container.querySelector('.scrollbar');
            var thumb = scrollbar.querySelector('.scrollbar-thumb');

            var totalContentHeight = content.scrollHeight;
            var totalContainerHeight = container.clientHeight;
            var scrollbarHeight = totalContainerHeight * totalContainerHeight / totalContentHeight;

            thumb.style.height = scrollbarHeight + 'px';

            container.addEventListener('mousedown', function (e) {
                if (e.target === scrollbar) {
                    console.log('first')
                    var totalScrollbarHeight = scrollbar.clientHeight;
                    var clickPosition = e.clientY - scrollbar.getBoundingClientRect().top;

                    var percentage = clickPosition / totalScrollbarHeight;
                    var scrollTo = (totalContentHeight - totalContainerHeight) * percentage;

                    content.scrollTop = scrollTo;
                }
            });

            container.addEventListener('mousemove', function (e) {
                if (e.target === scrollbar) {
                    thumb.classList.add('dragging');
                }
            });

            document.addEventListener('mouseup', function () {
                thumb.classList.remove('dragging');
            });

            content.addEventListener('scroll', function () {
                var scrollPercentage = content.scrollTop / (totalContentHeight - totalContainerHeight);
                var transform = 'translate3d(0, ' + (scrollPercentage * 100) + '%, 0)';
                thumb.style.transform = transform;
            });
        });
    </script>
    </script>
</body>

</html>